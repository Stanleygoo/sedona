"use strict";var feedbackForm=document.querySelector(".feedback-form"),firstName=feedbackForm.querySelector("#first-name"),lastName=feedbackForm.querySelector("#last-name"),patronymic=feedbackForm.querySelector("#patronymic"),textarea=feedbackForm.querySelector(".feedback-form__textarea"),tel=feedbackForm.querySelector("#tel"),feedbackFormMail=feedbackForm.querySelector("#email"),telErrorMsg=feedbackForm.querySelector(".feedback-form__error-msg"),popupFailure=document.querySelector(".popup-failure"),popupSuccess=document.querySelector(".popup-success"),btnFailure=popupFailure.querySelector(".popup-failure__btn"),btnSuccess=popupSuccess.querySelector(".popup-success__btn"),storageName=localStorage.getItem("firstName"),storagelastName=localStorage.getItem("lastName"),storagePatronymic=localStorage.getItem("patronymic"),storageTel=localStorage.getItem("tel"),storagefeedbackFormMail=localStorage.getItem("feedbackFormMail");(storageName||storagelastName||storagePatronymic||storageTel||storagefeedbackFormMail)&&(firstName.value=storageName,lastName.value=storagelastName,patronymic.value=storagePatronymic,tel.value=storageTel,feedbackFormMail.value=storagefeedbackFormMail);var popupFailureCloseHandler=function(){popupFailure.classList.contains("popup-failure--show")&&popupFailure.classList.remove("popup-failure--show")},popupSuccessCloseHandler=function(){popupSuccess.classList.contains("popup-success--show")&&popupSuccess.classList.remove("popup-success--show")},isKeyboardEvent=function(e){return void 0!==e.keyCode},isDeactivationEvent=function(e){return isKeyboardEvent(e)&&27===e.keyCode},popupShow=function(e){e.preventDefault(),firstName.value&&lastName.value&&patronymic.value&&tel.value&&feedbackFormMail.value?popupSuccess.classList.add("popup-success--show"):(popupFailure.classList.add("popup-failure--show"),localStorage.setItem("firstName",firstName.value),localStorage.setItem("lastName",lastName.value),localStorage.setItem("patronymic",patronymic.value),localStorage.setItem("tel",tel.value),localStorage.setItem("feedbackFormMail",feedbackFormMail.value))};feedbackForm.addEventListener("submit",popupShow),btnFailure.addEventListener("click",popupFailureCloseHandler),btnSuccess.addEventListener("click",popupSuccessCloseHandler),window.addEventListener("keydown",function(e){isDeactivationEvent(e)&&(popupSuccessCloseHandler(),popupFailureCloseHandler())}),firstName.required=!0,firstName.minLength=3,firstName.maxLength=15,lastName.required=!0,lastName.minLength=3,lastName.maxLength=15,patronymic.required=!0,patronymic.minLength=5,patronymic.maxLength=15,tel.required=!0,feedbackFormMail.required=!0;